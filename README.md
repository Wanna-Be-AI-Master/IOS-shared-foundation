# iOS Shared Foundation

**ã‹ã‚ã‚„ã‹** ã¨ **ã‚€ã™ã³** ã‚¢ãƒ—ãƒªã®å…±é€šåŸºç›¤ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

## æ¦‚è¦

2ã¤ã®iOSã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§å…±æœ‰ã™ã‚‹è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã€è¦ç´„ã€Supabaseã‚¹ã‚­ãƒ¼ãƒã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç®¡ç†ã™ã‚‹ãƒªãƒã‚¸ãƒˆãƒªã§ã™ã€‚

## å¯¾è±¡ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

| ã‚¢ãƒ—ãƒª | æ—¥æœ¬èªå | èª¬æ˜ | ãƒªãƒã‚¸ãƒˆãƒª |
|--------|----------|------|------------|
| Karoyaka | ã‹ã‚ã‚„ã‹ | ç‰‡ä»˜ã‘ãƒˆãƒ©ãƒƒã‚«ãƒ¼ | [katazuke-app](https://github.com/Wanna-Be-AI-Master/katazuke-app) |
| Musubi | ã‚€ã™ã³ | äº¤æ›æ—¥è¨˜ã‚¢ãƒ—ãƒª | [koukan-nikki-app](https://github.com/Wanna-Be-AI-Master/koukan-nikki-app) |

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    iOS Shared Foundation                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Supabase   â”‚ â”‚   Design    â”‚ â”‚    Docs     â”‚ â”‚ Templates â”‚ â”‚
â”‚  â”‚  Schemas    â”‚ â”‚   System    â”‚ â”‚   & Guides  â”‚ â”‚  & Config â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Karoyaka App       â”‚     â”‚       Musubi App        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å€‹åˆ¥å®Ÿè£…          â”‚  â”‚     â”‚  â”‚ å€‹åˆ¥å®Ÿè£…          â”‚  â”‚
â”‚  â”‚ - Recordsæ©Ÿèƒ½     â”‚  â”‚     â”‚  â”‚ - Diariesæ©Ÿèƒ½     â”‚  â”‚
â”‚  â”‚ - Badgesæ©Ÿèƒ½      â”‚  â”‚     â”‚  â”‚ - Pairsæ©Ÿèƒ½       â”‚  â”‚
â”‚  â”‚ - Statsæ©Ÿèƒ½       â”‚  â”‚     â”‚  â”‚ - Stickersæ©Ÿèƒ½    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å…±é€š vs å€‹åˆ¥å®Ÿè£…

### âœ… å…±é€šï¼ˆFoundationï¼‰

ä»¥ä¸‹ã®è¦ç´ ã¯ **iOS Shared Foundation** ã§ç®¡ç†ã—ã€ä¸¡ã‚¢ãƒ—ãƒªã§å…±æœ‰ã—ã¾ã™ï¼š

| ã‚«ãƒ†ã‚´ãƒª | å†…å®¹ | å ´æ‰€ |
|----------|------|------|
| **Supabaseå…±é€šã‚¹ã‚­ãƒ¼ãƒ** | usersãƒ†ãƒ¼ãƒ–ãƒ«ã€RLSãƒãƒªã‚·ãƒ¼ | `supabase/schemas/common/` |
| **èªè¨¼ãƒ•ãƒ­ãƒ¼** | Apple Sign-Inã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç† | `docs/auth/` |
| **ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ** | ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã€å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | `design/` |
| **ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£** | æ—¥ä»˜å‡¦ç†ã€ã‚¨ãƒ©ãƒ¼å‡¦ç†ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ | `docs/utilities/` |
| **è¨­å®šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ** | AppConfigã€xcconfigã€ç’°å¢ƒå¤‰æ•° | `templates/` |
| **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¦ç´„** | Clean Architecture + MVVM ãƒ‘ã‚¿ãƒ¼ãƒ³ | `docs/conventions/` |

### ğŸ”§ å€‹åˆ¥å®Ÿè£…ï¼ˆå„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰

ä»¥ä¸‹ã®è¦ç´ ã¯ **å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…** ã§å®Ÿè£…ã—ã¾ã™ï¼š

#### Karoyaka (katazuke-app)
```
iOS/Karoyaka/
â”œâ”€â”€ Domain/
â”‚   â”œâ”€â”€ Entities/       # Record, Badge, Category, Reason...
â”‚   â”œâ”€â”€ UseCases/       # RecordUseCase, BadgeUseCase, StatsUseCase
â”‚   â””â”€â”€ Repositories/   # RecordRepositoryProtocol, BadgeRepositoryProtocol
â”œâ”€â”€ Data/
â”‚   â”œâ”€â”€ DTOs/           # RecordDTO, BadgeDTO
â”‚   â””â”€â”€ Repositories/   # RecordRepository, BadgeRepository
â””â”€â”€ Presentation/
    â””â”€â”€ Views/          # HomeView, AddRecordView, BadgeView...
```

#### Musubi (koukan-nikki-app)
```
iOS/Musubi/
â”œâ”€â”€ Domain/
â”‚   â”œâ”€â”€ Entities/       # Diary, Pair, Sticker, Reaction...
â”‚   â”œâ”€â”€ UseCases/       # DiaryUseCase, PairUseCase
â”‚   â””â”€â”€ Repositories/   # DiaryRepositoryProtocol, PairRepositoryProtocol
â”œâ”€â”€ Data/
â”‚   â”œâ”€â”€ DTOs/           # DiaryDTO, PairDTO
â”‚   â””â”€â”€ Repositories/   # DiaryRepository, PairRepository
â””â”€â”€ Presentation/
    â””â”€â”€ Views/          # DiaryView, PairView, StickerView...
```

## ä½¿ã„æ–¹

### 1. æ–°æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹å ´åˆ

**å…±é€šæ©Ÿèƒ½ã®å ´åˆï¼š**
1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã§å®Ÿè£…ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–
2. ä¸¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å‚ç…§

**å€‹åˆ¥æ©Ÿèƒ½ã®å ´åˆï¼š**
1. å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§å®Ÿè£…
2. Foundationã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¾“ã†

### 2. Supabaseã‚¹ã‚­ãƒ¼ãƒã‚’è¿½åŠ ã™ã‚‹å ´åˆ

**å…±é€šãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆusersç­‰ï¼‰ï¼š**
```
supabase/schemas/common/
```

**ã‚¢ãƒ—ãƒªå›ºæœ‰ãƒ†ãƒ¼ãƒ–ãƒ«ï¼š**
```
supabase/schemas/katazuke/  # Karoyakaå°‚ç”¨
supabase/schemas/koukan/    # Musubiå°‚ç”¨
```

### 3. æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ ã™ã‚‹å ´åˆ

1. `templates/` ã‹ã‚‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼
2. `docs/` ã®ã‚¬ã‚¤ãƒ‰ã«å¾“ã£ã¦å®Ÿè£…
3. å¿…è¦ã«å¿œã˜ã¦å…±é€šã‚¹ã‚­ãƒ¼ãƒã‚’æ‹¡å¼µ

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
shared-foundation/
â”œâ”€â”€ README.md           # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ PLAN.md             # è©³ç´°è¨ˆç”»
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ auth/           # èªè¨¼é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ apple-signin-flow.md
â”‚   â”‚   â””â”€â”€ session-management.md
â”‚   â”œâ”€â”€ conventions/    # è¦ç´„ãƒ»ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
â”‚   â”‚   â””â”€â”€ config-guide.md
â”‚   â””â”€â”€ utilities/      # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¬ã‚¤ãƒ‰
â”‚       â”œâ”€â”€ date-handling.md
â”‚       â”œâ”€â”€ error-handling.md
â”‚       â””â”€â”€ validation.md
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â”œâ”€â”€ common/     # å…±é€šã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ users.sql
â”‚   â”‚   â”‚   â””â”€â”€ rls-policies.sql
â”‚   â”‚   â”œâ”€â”€ katazuke/   # Karoyakaå°‚ç”¨
â”‚   â”‚   â”‚   â”œâ”€â”€ records.sql
â”‚   â”‚   â”‚   â”œâ”€â”€ badges.sql
â”‚   â”‚   â”‚   â””â”€â”€ users-extension.sql
â”‚   â”‚   â””â”€â”€ koukan/     # Musubiå°‚ç”¨
â”‚   â”‚       â”œâ”€â”€ diaries.sql
â”‚   â”‚       â””â”€â”€ functions.sql
â”‚   â””â”€â”€ migrations/     # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰
â”œâ”€â”€ design/
â”‚   â”œâ”€â”€ colors/         # ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
â”‚   â””â”€â”€ components/     # å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä»•æ§˜
â””â”€â”€ templates/
    â”œâ”€â”€ config/         # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
    â”‚   â”œâ”€â”€ swift/
    â”‚   â””â”€â”€ typescript/
    â””â”€â”€ env/            # ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
```

## é–‹ç™ºãƒ«ãƒ¼ãƒ«

### å¿…é ˆäº‹é …

1. **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³**: Clean Architecture + MVVM
2. **ã‚³ãƒ¡ãƒ³ãƒˆè¨€èª**: æ—¥æœ¬èª
3. **å‹å®‰å…¨æ€§**: å³å¯†ãªå‹å®šç¾©ï¼ˆany/unknownç¦æ­¢ï¼‰
4. **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: ãƒ­ãƒ¼ã‚«ãƒ«å„ªå…ˆã€ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰åŒæœŸ

### ã‚³ãƒ¼ãƒ‰è¦ç´„

- Foundationã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¾“ã†
- å…±é€šãƒ­ã‚¸ãƒƒã‚¯ã¯Foundationã§ç®¡ç†
- ã‚¢ãƒ—ãƒªå›ºæœ‰ãƒ­ã‚¸ãƒƒã‚¯ã¯å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å®Ÿè£…
- é‡è¤‡ã‚³ãƒ¼ãƒ‰ã‚’é¿ã‘ã‚‹

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

Private - Wanna-Be-AI-Master
